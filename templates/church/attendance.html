{% extends 'base.html' %}

{% load static %}

  {% block title%}TCRC|Membershp{% endblock title%}

{% block content %}
<style>
  #selectBox{
   border-radius: 25px;
   display: inline-block;
   overflow: hidden;
   background: hsl(0, 0%, 95%);
   height: 37px;
   width: 400px;
 }
</style>
<section class="contact-us" id="contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 align-self-center">
            <form class="row g-4" id="contact" action="" method="POST">{% csrf_token %}
                <div style="text-align: center; color: green;">{{ msg }}</div>
                <h5>Take Attendance 
                  <span style="color: blue;"><i>({{unit_dept}})</i></span>
                </h5>
                <div class="col-md-5">
                    <label for="" class="form-label">Program</label><br>
                    <select class="form-control col-md-4" name="program" id="selectBox" required>
                        <option selected disabled value="">... Please select a program</option>
                        {% for program in programs %}
                            <option value="{{ program.id }}">{{ program.title }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-2">
                    <label for="" class="form-label">Date</label>
                    <input type="date" name="date" required>
                </div>
                <div class="col-md-2">
                    <label for="" class="form-label">Time</label>
                    <input type="time" name="time" required>
                </div>
                <div class="col-md-3">
                    <label for="" class="form-label">Attendance</label>
                    <input type="number" name="attendance" required>
                </div>
                <div class="col-md-12">
                    <label for="" class="form-label">Comments</label>
                    <input type="text" name="comment">
                </div>
                <button class="btn btn-primary">Submit Attendance</button>

                <div class="col-md-12">
                    <h5>Attendance List</h5>
                    <div class="table table-responsive">
                        <table class="table">
                            <thead>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Program</th>
                                <th>Attendance</th>
                                <th>Unit/Dept</th>
                              </thead>
                              <tbody>
                                {% for attendance in attendance_list %}
                                <tr>
                                  <td>{{ attendance.date }}</td>
                                  <td>{{ attendance.time }}</td>
                                  <td>{{ attendance.program }}</td>
                                  <td>{{ attendance.attendance }}</td>
                                  {% if attendance.unit_dept %}
                                    <td>{{ attendance.unit_dept }}</td>
                                  {% else %}
                                    <td>Church</td>
                                  {% endif %}
                                </tr>
                                {% endfor %}
                              </tbody>
                        </table>
                    </div>
                </div>
            </form>  
        </div>
      </div>
    </div>
    {% include 'base_files/footer.html' %}
  </section>

{%endblock%}
<select class="form-control" name="program" id="" required>
    <option selected disabled value="">... Please select a program</option>
    {% for program in programs %}
        <option value="{{ program.id }}">{{ program.title }}</option>
    {% endfor %}
</select>